{"ast":null,"code":"import mongoose from 'mongoose';\nconst connection = {};\n\nasync function dbConnect() {\n  try {\n    if (connection.isConnected) {\n      return;\n    }\n\n    console.log(process.env.MONGO_URI);\n    const db = await mongoose.connect(process.env.MONGO_URI, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    });\n    connection.isConnected = db.connections[0].readyState;\n    console.log(connection.isConnected);\n  } catch (e) {\n    console.log(e);\n    process.exit(1);\n  }\n}\n\nexport default dbConnect;","map":{"version":3,"sources":["C:/xampp/htdocs/flmyapp/spa/nextjs/utils/dbConnect.js"],"names":["mongoose","connection","dbConnect","isConnected","console","log","process","env","MONGO_URI","db","connect","useNewUrlParser","useUnifiedTopology","connections","readyState","e","exit"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,UAArB;AAEA,MAAMC,UAAU,GAAG,EAAnB;;AAEA,eAAeC,SAAf,GAA2B;AACvB,MAAI;AACA,QAAID,UAAU,CAACE,WAAf,EAA4B;AACxB;AACH;;AAEDC,IAAAA,OAAO,CAACC,GAAR,CAAYC,OAAO,CAACC,GAAR,CAAYC,SAAxB;AAEA,UAAMC,EAAE,GAAG,MAAMT,QAAQ,CAACU,OAAT,CAAiBJ,OAAO,CAACC,GAAR,CAAYC,SAA7B,EAAwC;AACrDG,MAAAA,eAAe,EAAE,IADoC;AAErDC,MAAAA,kBAAkB,EAAE;AAFiC,KAAxC,CAAjB;AAKAX,IAAAA,UAAU,CAACE,WAAX,GAAyBM,EAAE,CAACI,WAAH,CAAe,CAAf,EAAkBC,UAA3C;AAEAV,IAAAA,OAAO,CAACC,GAAR,CAAYJ,UAAU,CAACE,WAAvB;AACH,GAfD,CAeC,OAAOY,CAAP,EAAU;AACPX,IAAAA,OAAO,CAACC,GAAR,CAAYU,CAAZ;AACAT,IAAAA,OAAO,CAACU,IAAR,CAAa,CAAb;AACH;AACJ;;AAED,eAAed,SAAf","sourcesContent":["import mongoose from 'mongoose';\r\n\r\nconst connection = {};\r\n\r\nasync function dbConnect() {\r\n    try {\r\n        if (connection.isConnected) {\r\n            return;\r\n        }\r\n\r\n        console.log(process.env.MONGO_URI);\r\n\r\n        const db = await mongoose.connect(process.env.MONGO_URI, {\r\n            useNewUrlParser: true,\r\n            useUnifiedTopology: true\r\n        });\r\n\r\n        connection.isConnected = db.connections[0].readyState;\r\n\r\n        console.log(connection.isConnected);\r\n    }catch (e) {\r\n        console.log(e);\r\n        process.exit(1);\r\n    }\r\n}\r\n\r\nexport default dbConnect;"]},"metadata":{},"sourceType":"module"}